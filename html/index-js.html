<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Kepler/K2 Dashboard</title>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/dashboard.css" rel="stylesheet">
  </head>

  <body>

    <div class="container">
      <div>
       <h1>Kepler/K2 Dashboard <small>August 2016</small></h1>
      </div>

      <div class="row">
        <div class="col-xs-3 metric">

          <div class='metric-inner'>
            <div class="icon"><i class="fa fa-globe" aria-hidden="true"></i></div>            
            <h3 id='kepler_candidates_count'></h3>
            <p>Kepler planet candidates</p>
          </div>
          <div class='metric-bottom'>
            <span id='kepler_confirmed_count'></span> Confirmed
          </div>
        </div>

        <div class="col-xs-3 metric">
          <div class='metric-inner'>   
            <div class="icon"><i class="fa fa-globe" aria-hidden="true"></i></div>     
            <h3 id='k2_candidates_count'></h3>
            <p>K2 planet candidates</p>
          </div>
          <div class='metric-bottom'>
            <span id='k2_confirmed_count'></span> Confirmed
          </div>
        </div>

      </div>

      <div class="row">
        <div class="col-md-3 metric">
          <div class='metric-inner'>
            <div class="icon"><i class="fa fa-file-text-o" aria-hidden="true"></i></div>            
            <h3 id='publication_count'></h3>
            <p>Total publications</p>
          </div>
          <div class='metric-bottom'>
            48% exoplanets, 
            52% astrophysics
          </div>
        </div>
        <div class="col-md-3 metric">
          <div class='metric-inner'>
            <div class="icon"><i class="fa fa-comment-o" aria-hidden="true"></i></div>            
            <h3 id='citation_count'></h3>
            <p>Total citations</p>
          </div>
          <div class='metric-bottom'>
            &nbsp;
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-3 metric">
          <div class='metric-inner'>
            <div class="icon"><i class="fa fa-user" aria-hidden="true"></i></div>            
            <h3 id='author_count'></h3>
            <p>Unique paper authors</p>
          </div>
          <div class='metric-bottom'>
            <span id='first_author_count'></span> unique first authors
          </div>
        </div>
        <div class="col-md-3 metric">
          <div class='metric-inner'>   
            <div class="icon"><i class="fa fa-twitter" aria-hidden="true"></i></div>     
            <h3 id='twitter_followers'></h3>
            <p>Twitter followers</p>
          </div>
          <div class='metric-bottom'>
            For @NASAKepler and @KeplerGO
          </div>
        </div>
      </div>

      <div id="output"></div>

      <hr style="margin-top: 2em;">

      <footer>
        <p>
        Crafted with <i class="fa fa-heart-o" aria-hidden="true"></i> 
        by the Kepler/K2 GO Office, last updated on 2016-08-20.
      </footer>
    </div> <!-- /container -->


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha384-THPy051/pYDQGanwU6poAc/hOdQxjnOEXzbT+OuUAFqNqFjL+4IGLBgCJC3ZOShY" crossorigin="anonymous"></script>
    <script>
    var url = "https://cdn.rawgit.com/barentsen/kepler-dashboard/master/kepler-dashboard.json";
    $.ajax({
        type: 'GET',
        dataType: 'json',  //use jsonp data type in order to perform cross domain ajax
        crossDomain: true,
        url: url,
        success: function (resp, textStatus, jqXHR) {
           $('#kepler_candidates_count').text(resp.planets.kepler_candidates_count.toLocaleString('en-US'));
           $('#kepler_confirmed_count').text(resp.planets.kepler_confirmed_count.toLocaleString('en-US'));
           $('#k2_candidates_count').text(resp.planets.k2_candidates_count.toLocaleString('en-US'));
           $('#k2_confirmed_count').text(resp.planets.k2_confirmed_count.toLocaleString('en-US'));
           $('#publication_count').text(resp.publications.publication_count.toLocaleString('en-US'));
           $('#author_count').text(resp.publications.author_count.toLocaleString('en-US'));
           $('#first_author_count').text(resp.publications.first_author_count.toLocaleString('en-US'));
           $('#citation_count').text(resp.publications.citation_count.toLocaleString('en-US'));
           $('#twitter_followers').text(resp.twitter.followers_count.toLocaleString('en-US'));
        }
    });
    </script>

  </body>
</html>